@page "/"
@page "/home"

@using Model

<RadzenDataGrid Data="teams">
    <Columns>
        <RadzenDataGridColumn Property="@nameof(Team.Id)" Title="Id" />
        <RadzenDataGridColumn Property="@nameof(Team.Name)" Title="Team" />
    </Columns>
</RadzenDataGrid>

@code {
    private Team? Team { get; set; }
    private List<Team> teams = [];

    private async Task AddTeam()
    {
        Team team = new() { Name = "Test" };
        Repository<Team> repo = new(new());
        await repo.InsertAsync(team);
    }

    private async Task GetTeams()
    {
        teams = await TeamRepository.GetAllAsync();
    }

    protected override async Task OnInitializedAsync()
    {
        await GetTeams();
    }
}
